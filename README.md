# 🌊 鳴潮 音骸スコア計算ツール

https://hou-rai3.github.io/Wuthering-Waves-score/

> Wuthering Waves のゲーム画面から「音骸（Echo）」のステータスを自動で読み込み、スコアを即座に算出する最高級 Web アプリケーション

![UI Design](https://img.shields.io/badge/Design-Refined-emerald)
![Framework](https://img.shields.io/badge/Framework-React%2018-blue)
![Language](https://img.shields.io/badge/Language-TypeScript-3178c6)
![Build](https://img.shields.io/badge/Build-Vite-646cff)
![Styling](https://img.shields.io/badge/Styling-Tailwind%20CSS-06b6d4)

---

## ✨ 主な機能

### 🖼️ 直感的な画像入力
- **クリップボードペースト**: `Ctrl+V` で即座に読み込み
- **ドラッグ&ドロップ**: マウスで画像をドロップして処理
- **ファイル選択**: ボタンからファイルを選択

### 🤖 高精度な自動処理
- **自動ROI抽出**: ゲーム画面の比率から音骸情報領域を自動特定
- **Tesseract.js OCR**: 日本語・数字の高精度認識
- **スマート補正**: 誤認識を自動で修正

### 📊 詳細なスコア計算
- **総合スコア表示**: メイン＆サブステータスから総合評価
- **ランク判定**: SS/S/A/B/C のランク自動判定
- **計算内訳**: 各ステータスの寄与度を詳細表示

### 🔧 強力なデバッグツール
- **二値化画像表示**: 画像処理の各ステップを可視化
- **領域プレビュー**: OCR対象の領域を個別確認
- **ROI調整**: スライダーでリアルタイムに認識領域を最適化
- **信頼度表示**: 各OCR結果の信頼度を数値化

### 🎨 洗練されたUI/UX
- **ゲーム風デザイン**: 鳴潮の世界観を再現したビジュアル
- **グラデーション効果**: エメラルド・シアンの優美な配色
- **レスポンシブ対応**: スマートフォン〜デスクトップに対応
- **アニメーション**: 洗練されたトランジション効果

---

## 🛠️ テック スタック

| 項目 | 技術 |
|------|------|
| **フレームワーク** | React 18 + TypeScript |
| **ビルドツール** | Vite |
| **スタイリング** | Tailwind CSS |
| **OCR エンジン** | Tesseract.js (日本語対応) |
| **画像処理** | Canvas API |
| **UI アイコン** | Lucide React |
| **ホスティング** | GitHub Pages |

---

## 🚀 クイックスタート

### インストール
```bash
npm install
```

### 開発サーバー起動
```bash
npm run dev
```

### プロダクションビルド
```bash
npm run build
```

### プレビュー確認
```bash
npm run preview
```

---

## 📖 使用方法

1. **画像を読み込む**
   - Ctrl+V でペースト、またはドラッグ&ドロップ
   - ファイル選択ボタンから選択

2. **OCR実行**
   - 「OCR実行」ボタンで自動処理開始
   - スコア計算が即座に完了

3. **結果確認**
   - 総合スコア、ランク、ステータスを表示
   - 計算詳細でメイン/サブの寄与度を確認

4. **調整が必要な場合**
   - デバッグモードを有効化
   - ROI領域を視覚的に確認・調整
   - 二値化画像で認識精度を確認

---

## 🎯 デバッグモード

デバッグモードでは以下が可能：

- **情報タブ**: OCR生テキストと座標情報
- **ROI矩形タブ**: 認識領域を矩形で可視化
- **領域タブ**: 各ROIの個別プレビュー
- **二値化タブ**: 閾値調整で画像処理を最適化
- **設定タブ**: スライダーでROI座標をリアルタイム調整

---

## 📝 対応キャラクター

現在対応しているキャラクター：
- **カルロッタ** (デフォルト)
- **その他キャラクター** (拡張予定)

---

## 🔧 設定とカスタマイズ

### ROI設定ファイル
ROI設定は `localStorage` に自動保存されます：
- **NAME領域**: キャラクター名認識
- **COST領域**: コスト値認識
- **MAIN1/MAIN2領域**: メインステータス認識
- **SUB1-4領域**: サブステータス認識

### 二値化閾値
デバッグパネルの「二値化」タブで調整可能：
- **範囲**: 0-255
- **デフォルト**: 128
- リアルタイムで認識精度に反映

---

## 📱 レスポンシブ対応

- **デスクトップ (1024px以上)**: フル機能表示
- **タブレット (768px以上)**: レイアウト最適化
- **モバイル (768px未満)**: スマートフォン最適化

---

## 🐛 トラブルシューティング

### OCRが認識しない
1. デバッグモードを有効化
2. 「二値化」タブで閾値を調整
3. 「設定」タブで ROI 座標を調整

### 画像がぼやけている
- 元画像の解像度を確認
- ゲーム画面の明るさを調整
- 画像を再度キャプチャ

### スコア計算がおかしい
- キャラクター選択を確認
- OCR結果の信頼度を確認
- デバッグパネルでテキスト認識を確認

---

## 📄 ライセンス

MIT

---

## 🙏 謝辞

- Wuthering Waves 公式
- Tesseract.js コミュニティ
- Tailwind CSS チーム

---

**Made with 💚 for Wuthering Waves players**

## ビルド

```bash
npm run build
```

## 構成

```
src/
  App.tsx                 # メインアプリケーション
  main.tsx               # エントリーポイント
  index.css              # Tailwind スタイル
  utils/
    imageProcessor.ts    # ROI抽出・二値化ロジック
  hooks/
    useOcr.ts            # Tesseract.js フック
  components/
    DebugPanel.tsx       # デバッグUI
```

## 開発

- `npm run dev`: ローカル開発サーバー起動
- `npm run build`: 本番ビルド
- `npm run preview`: ビルド結果をプレビュー
- `npm run lint`: ESLint による型チェック
